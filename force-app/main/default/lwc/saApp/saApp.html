<template>
    <lightning-card title="">
        <!-- <lightning-button label="New" slot="actions"></lightning-button> -->
        <div class="slds-p-around_medium lgc-bg">
            <div class="slds-grid slds-gutters">
                <div class="slds-col">
                    <lightning-input class="validate" value={idNum} onchange={handleChange} type="search"
                        label="South African ID Number"
                        pattern="(((\d{2}((0[13578]|1[02])(0[1-9]|[12]\d|3[01])|(0[13456789]|1[012])(0[1-9]|[12]\d|30)|02(0[1-9]|1\d|2[0-8])))|([02468][048]|[13579][26])0229))(\d{4})([01])(\d{2})"
                        message-when-pattern-mismatch="Please enter a valid ID" required></lightning-input>

                    
                </div>
                <div class="slds-col">
                    <div class="slds-clearfix slds-p-top_large" >
                        <lightning-button disabled={isValid} variant="brand" label="Search" title="Primary action"
                            onclick={handleClick} class="slds-float_left"></lightning-button>
                    </div>
                </div>
                <div class="slds-col">

                </div>
            </div>


        </div>


    </lightning-card>

    <template if:true={showSpinner}>
        <div class="demo-only demo-only_viewport" style="height:6rem;position:relative">
            <div role="status" class="slds-spinner slds-spinner_medium">
                <span class="slds-assistive-text">Loading</span>
                <div class="slds-spinner__dot-a"></div>
                <div class="slds-spinner__dot-b"></div>
            </div>
        </div>
    </template>
    <template if:true={holidays}>
        <lightning-card title="">
            <div class="slds-p-around_medium lgc-bg">

                <h2 id="element-with-table-label" class="slds-text-heading_medium slds-m-bottom_xx-small">List of
                    Holidays
                </h2>
                <table class="slds-table slds-table_cell-buffer slds-table_bordered"
                    aria-labelledby="element-with-table-label other-element-with-table-label">
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Name">Name</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Date">Date</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Description">Description</div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <template for:each={holidays} for:item="holiday">
                            <tr class="slds-hint-parent" key={holiday.name}>
                                <th data-label="Name" scope="row">
                                    <div class="slds-cell-wrap">{holiday.name}</div>
                                </th>
                                <td data-label="Date">
                                    <div class="slds-cell-wrap">
                                        {holiday.date.datetime.day}/{holiday.date.datetime.month}/{holiday.date.datetime.year}
                                    </div>
                                </td>
                                <td data-label="Description">
                                    <div class="slds-cell-wrap">{holiday.description}</div>
                                </td>
                            </tr>
                        </template>

                    </tbody>
                </table>
            </div>
        </lightning-card>
    </template>
</template>